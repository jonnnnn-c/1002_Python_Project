{% extends 'base.html' %}

{% block content %}
    <h1>{% block title %} Welcome to Crime Rate Graphs{% endblock %}</h1>

    <style>
        fieldset{
            display: inline;
            border: 5px solid black;
        }
    </style>

    <div id="filter_form">
        <form action="/">
            <fieldset id="Country_filter">
                <legend>Country Filter:</legend>
                <label for="Country">Country:</label>
                <select name="Country" id="Country">
                    <option value="USA">USA</option>
                    <option value="Singapore">Singapore</option>
                    <option value="Japan">Japan</option>
                    <option value="Brazil">Brazil</option>
                    <option value="Jamaica">Jamaica</option>
                    <option value="France">France</option>
                    <option value="Philippines">Philippines</option>
                    <option value="India">India</option>
                    <option value="South Afrcia">South Afrcia</option>
                    <option value="Mexico">Mexico</option>
                </select>
            </fieldset>

            <fieldset id="Year_filter">
                <legend>Year Filter:</legend>
                <label for="start_year">Year:</label>
                <input type="text" id="start_year" name="start_year" value="1990">

                <label for="end_year">to</label>
                <input type="text" id="end_year" name="end_year" value="2020">
            </fieldset>

            <fieldset id="Factor_filter">
                <legend>Factor Filter:</legend>
                <input type="checkbox" id="Consumer_Price_Index" name="Consumer_Price_Index" value="T">
                <label for="Consumer_Price_Index">Consumer Price Index</label><br>

                <input type="checkbox" id="Income_Polarization" name="Income_Polarization" value="T">
                <label for="Income_Polarization">Income Polarization</label><br>

                <input type="checkbox" id="Enrolment" name="Enrolment" value="T">
                <label for="Enrolment">Enrolment</label><br>

                <input type="checkbox" id="Family" name="Family" value="T">
                <label for="Family">Family</label><br>

                <input type="checkbox" id="Poverty" name="Poverty" value="T">
                <label for="Poverty">Poverty</label><br>
            </fieldset>

            <input type="submit" value="Submit">
        </form>
    </div>

    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>

    {% if filter == True %}
        {% for graphs in range(graphJSON|length) %}
            <div id='{{ graphs }}' class='chart'></div>
            <script type='text/javascript'>
                var graph = {{ graphJSON[graphs] | safe}};
                Plotly.plot('{{ graphs }}', graph, {});
            </script>
        {% endfor %}
    {% endif %}
{% endblock %}